<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="registration.css">
    <link rel="stylesheet" href="feeCreation.css">

</head>

<body>
    <h1>Создание сбора</h1>
    <p>Пожалуйста, заполните данные о сборе</p>
    <form action="" name="feeCreationForm">
        <input type="text" placeholder="Тип события" class="required" required>
        <input type="text" placeholder="Кому собираем" class="required" required>
        <input type="text" placeholder="Дата события" class="required" required>
        <input type="text" placeholder="Ссылка на внешнюю копилку/карту" class="required" required>
        <p class="smallParagraph">Ссылки на желаемый подарок
            *</p>
        <div class="presents">
            <div class="present" id="present0">
                <input type="text" placeholder=""
                    value="https://www.amazon.com/s?k=lego+home&adgrpid=146129792827&hvadid=632890143278&hvdev=c&hvlocphy=1012729&hvnetw=g&hvqmt=b&hvrand=97401635243092047&hvtargid=kwd-158692537&hydadcr=29492_14573937&tag=hydglogoo-20&ref=pd_sl_18ntj7m5et_b">
                <button onclick="addPresent(event)" type="button"></button>
            </div>
        </div>
        <div class="formFooter">
            <div class="formAdding">
                <input class="addingCheckbox" type="checkbox" name="check" id="addingCheckbox" onchange="setCheckbox(event)">
                <label for="addingCheckbox">Добавить данные о праздновании</label>
                <div class="addingOptions">
                    <input type="text" placeholder="Дата события">
                    <input type="text" placeholder="Время">
                    <input type="text" placeholder="Ссылка на место празднования">
                    <input type="text" placeholder="Дресс-код">
                </div>
            </div>
            <div class="formButtons">
                <button type="button">Отмена</button>
                <button class="middleBtn">Запустить</button>
                <button>Оплатить</button>
            </div>
        </div>
    </form>
    <script>
        let presents = document.getElementsByClassName("presents")[0]
        let presentId = 1
        function addPresent(e) {
            if (e.target.className != "removeButton") {
                e.target.className = "removeButton"
                e.target.style.backgroundImage = 'url("delete.svg")'
                let present = `
                <div class="present" id="present`+ presentId + `">
                    <input type="text" placeholder="" value="" onchange='setInput(event)'>
                    <button onclick="addPresent(event, 'remove')" type="button"></button>
                    </div>
                    `;
                presentId++
                presents.innerHTML = presents.innerHTML + present
            }
            else {
                e.target.parentElement.remove()
            }
        }

        function setInput(e) {
            e.target.setAttribute('value', e.target.value)
        }
        function setCheckbox(e) {
            console.log(e.target.checked);
            let addingOptions = document.getElementsByClassName("addingOptions")[0]
            let presents = document.getElementsByClassName("presents")[0]
            if (e.target.checked) {
                addingOptions.style.display = "block"
                presents.style.marginBottom = "400px"
            }
            else {
                presents.style.marginBottom = "200px"
                addingOptions.style.display = "none"
                
            }
        }
    </script>
</body>

</html>